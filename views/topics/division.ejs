<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Topics</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/addition.css">
</head>

<body class="d-flex text-center text-white ">
  <%- include('../partials/navbar.ejs') %>

  <h1>Division</h1>

  <% for(i=0; i<divisionQuestions.length; i++) {%>

  <div class="card col-6 offset-3 mb-3 col-lg-4 col-xl-6 border-5">
    <div class="card-header text-dark">
      <%= divisionQuestions[i].id %>. <%= divisionQuestions[i].question %>
    </div>
    <% for(j=0; j<divisionAnswers[i].answers.length; j++) {%>
    <div class="card-body md-4">
      <button id="answer<%=i%><%=j%><%=j%>" class="btn btn-primary" onclick="checkAnswer(answer['<%=i%>'].answers['<%=j%>','<%=j%>'].answer, answer['<%=i%>'].correctAnswer, '<%=i%><%=j%><%=j%>')"> <%= divisionAnswers[j].id %>. <%= divisionAnswers[i].answers[j,j].answer %> </button>
    </div>
    <% } %>
  </div>
  <% } %>

  <%- include('../partials/footer.ejs') %>

  <script>
    if (typeof window !== 'undefined') {
      console.log('You are on the browser')
      // üëâÔ∏è can use alert()
    } else {
      console.log('You are on the server')
      // üëâÔ∏è can't use alert()
    }

    const checkAnswer = function(usersAnswer, correctAnswer, id) {
      if (usersAnswer == (correctAnswer)) {
        console.log('correct answer')
        console.log(id)
        let answerButton = document.querySelector('#answer' + id)
        answerButton.style.backgroundColor = '#4cae4c'
      } else if (usersAnswer != (correctAnswer)) {
        console.log('wrong answer')
        console.log(id)
        let answerButton = document.querySelector('#answer' + id)
        answerButton.style.backgroundColor = '#c9302c'
      }
    }
  </script>

  <script>
    const answer = <%-JSON.stringify(divisionAnswers)%>;
    console.log(answer)
    //console.log(additionAnswers)
  </script>